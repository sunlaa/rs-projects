(()=>{"use strict";var e={5346:(e,t,n)=>{n.d(t,{A:()=>h});var s=n(1601),i=n.n(s),a=n(6314),o=n.n(a),r=n(4417),d=n.n(r),l=new URL(n(6072),n.b),u=o()(i()),c=d()(l);u.push([e.id,`html,\nbody {\n  height: 100%;\n  margin: 0;\n}\n\nh1,\nh2,\np,\nul,\nli {\n  margin: 0;\n}\n\na {\n  text-decoration: none;\n}\n\nbody {\n  font-family: 'Concert One', sans-serif;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-image: url(${c});\n  background-repeat: no-repeat;\n  background-size: cover;\n}\n\n.backdrop {\n  z-index: 3;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #00000086;\n  backdrop-filter: blur(2px);\n}\n\n@keyframes fade {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n.button {\n  text-align: center;\n  white-space: nowrap;\n  font-family: 'Concert One', sans-serif;\n  cursor: pointer;\n  border-radius: 10px;\n  border: none;\n  padding: 0.3em 1em;\n  color: #ffffff;\n  background-color: #50245f;\n  transition: all linear 200ms;\n  box-shadow: 0 1px 3px #5c5b5b;\n}\n\n.button:hover {\n  text-shadow: 0 1px 3px #ffffff;\n  background-color: #6c2f83;\n}\n\n.main-input {\n  color: #ffffff;\n  text-shadow: 0 1px 2px #a8a7a7;\n  box-shadow: 0 1px 2px #5c5b5b;\n  font-family: 'Concert One', sans-serif;\n  font-size: 0.9em;\n  background-color: transparent;\n  padding: 0.2em 0.4em;\n  border: none;\n  outline: solid 1px #a8a7a7;\n  border-radius: 5px;\n}\n\n.main-input:focus-visible {\n  outline: solid 1px #807e7e;\n  border: none;\n}\n\n.main-input::placeholder {\n  text-shadow: none;\n  color: #ababab;\n}\n\n.section {\n  box-sizing: border-box;\n  padding: 0.6rem;\n  background-color: #00000015;\n  backdrop-filter: blur(5px);\n  border-radius: 5px;\n  font-size: 1.3rem;\n  color: #ffffff;\n  text-shadow: 0 1px 2px #888787;\n}\n\n::-webkit-scrollbar {\n  width: 10px;\n}\n::-webkit-scrollbar-thumb {\n  border-radius: 5px;\n  background: #ffffff72;\n}\n::-webkit-scrollbar-thumb:hover {\n  background: #efefef72;\n}\n\n@media screen and (max-width: 600px) {\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n}\n`,""]);const h=u},5431:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(1601),i=n.n(s),a=n(6314),o=n.n(a)()(i());o.push([e.id,".entry-page {\n  width: 90%;\n  min-width: 300px;\n  max-width: 500px;\n  height: 90%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 5rem;\n}\n\n.entry-page__title {\n  text-align: center;\n  color: #260d2f;\n  text-shadow: 1px 2px 5px #7b3795;\n  font-size: 3rem;\n}\n\n.entry-page__authentication-form {\n  font-size: 1.3rem;\n  color: #ffffff;\n  text-shadow: 0 2px 2px #888787;\n  background-color: #00000015;\n  backdrop-filter: blur(3px);\n  border: solid 3px white;\n  border-radius: 9px;\n  width: 80%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 1rem;\n}\n\n.authentication-form__title {\n  font-size: 1.7em;\n  align-self: center;\n}\n\n.authentication-form__field {\n  position: relative;\n}\n\n.authentication-form__label {\n  width: 100%;\n  margin-left: 1rem;\n  font-size: 1em;\n  display: flex;\n  gap: 0.4rem;\n}\n\n.authentication-form__label input {\n  text-shadow: 0 1px 2px #888787;\n  width: 30%;\n  color: #ffffff;\n  font-family: 'Concert One', sans-serif;\n  font-size: 1.1em;\n  background-color: transparent;\n  border: none;\n  border-bottom: solid 1px #ffffff;\n}\n\n.authentication-form__label input:focus-visible {\n  outline: none;\n}\n\n.authentication-form__hint {\n  z-index: -1;\n  position: absolute;\n  bottom: 30px;\n  background-color: rgba(106, 106, 106, 0.564);\n  backdrop-filter: blur(5px);\n  border-radius: 10px;\n  font-size: 1rem;\n  text-shadow: 0 1px 1px #5c5c5c;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0;\n  width: fit-content;\n  padding: 0.5rem;\n  opacity: 0;\n  transition: all linear 200ms;\n}\n\n.authentication-form__hint.visible {\n  z-index: 2;\n  opacity: 1;\n}\n\n.hint__list {\n  font-size: 0.8rem;\n  margin: 0;\n  padding-left: 0.5rem;\n  list-style-position: inside;\n}\n\n#submit {\n  cursor: pointer;\n  color: white;\n  font-family: 'Concert One', sans-serif;\n  font-size: 1em;\n  align-self: flex-end;\n  margin-right: 1rem;\n  padding: 0.3em 1.7em;\n  border: none;\n}\n\n.authentication-form__buttons {\n  display: flex;\n  align-self: flex-end;\n  gap: 1rem;\n  margin-top: 1rem;\n}\n\n.authentication-form_error-container {\n  text-align: center;\n  color: white;\n  text-shadow: 0 1px 2px rgb(0, 0, 0);\n  height: 25px;\n  padding-bottom: 5px;\n}\n\n.authentication-form__error {\n  font-size: 0.8em;\n  opacity: 0;\n  animation: fade 200ms forwards 100ms;\n  transition: all linear 100ms;\n}\n\n@media screen and (max-width: 500px) {\n  .entry-page__authentication-form {\n    font-size: 1rem;\n  }\n}\n",""]);const r=o},9119:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(1601),i=n.n(s),a=n(6314),o=n.n(a)()(i());o.push([e.id,".chat-page {\n  height: 100%;\n  max-height: 1000px;\n  min-height: 300px;\n  width: 90%;\n  min-width: 300px;\n  max-width: 1000px;\n  padding: 1rem 0;\n  margin: 1rem;\n  display: flex;\n  gap: 0.6rem;\n  flex-direction: column;\n  align-items: center;\n}\n\n@media screen and (max-width: 750px) {\n  .chat-page {\n    width: 100%;\n  }\n}\n",""]);const r=o},9308:(e,t,n)=>{n.d(t,{A:()=>p});var s=n(1601),i=n.n(s),a=n(6314),o=n.n(a),r=n(4417),d=n.n(r),l=new URL(n(7269),n.b),u=new URL(n(7443),n.b),c=o()(i()),h=d()(l),f=d()(u);c.push([e.id,`.footer {\n  box-sizing: border-box;\n  width: 90%;\n  padding: 0.6rem;\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n  align-items: center;\n  background-color: #00000015;\n  backdrop-filter: blur(5px);\n  border-radius: 5px;\n  color: #ffffff;\n  text-shadow: 0 1px 2px #888787;\n  font-size: 1.3rem;\n}\n\n.footer__school-logo {\n  background-image: url(${h});\n  background-size: cover;\n  border-radius: 15px;\n  width: 30px;\n  height: 30px;\n}\n\n.footer__git-name {\n  display: flex;\n  gap: 0.5rem;\n}\n.footer__git-logo {\n  background-image: url(${f});\n  background-size: contain;\n  background-repeat: no-repeat;\n  width: 25px;\n  height: 25px;\n}\n.footer__name {\n  color: #ffffff;\n}\n\n.footer__year {\n  font-size: 0.9em;\n}\n\n@media screen and (max-width: 700px) {\n  .footer {\n    width: 95%;\n  }\n}\n`,""]);const p=c},172:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(1601),i=n.n(s),a=n(6314),o=n.n(a)()(i());o.push([e.id,".header {\n  box-sizing: border-box;\n  width: 90%;\n  padding: 0.6rem;\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n  align-items: center;\n  background-color: #00000015;\n  backdrop-filter: blur(5px);\n  border-radius: 5px;\n  color: #ffffff;\n  text-shadow: 0 1px 2px #888787;\n  font-size: 1.3rem;\n}\n\n.header__user-data {\n  display: flex;\n  width: 70%;\n  justify-content: space-between;\n}\n\n.header__nav-buttons {\n  display: flex;\n  gap: 1em;\n}\n.header__log-out {\n  text-decoration: none;\n}\n\n.header__friends {\n  display: none;\n}\n\n@media screen and (max-width: 700px) {\n  .header {\n    width: 95%;\n    flex-direction: column;\n  }\n  .header__user-data {\n    width: 100%;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .header {\n    font-size: 1.1rem;\n    flex-direction: column;\n  }\n\n  .header__nav-buttons {\n    gap: 0.3em;\n  }\n\n  .header__friends {\n    display: block;\n  }\n}\n",""]);const r=o},8220:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(1601),i=n.n(s),a=n(6314),o=n.n(a)()(i());o.push([e.id,".main {\n  display: flex;\n  gap: 1%;\n  width: 90%;\n  height: 80%;\n}\n\n@media screen and (max-width: 700px) {\n  .main {\n    width: 95%;\n  }\n}\n",""]);const r=o},9208:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(1601),i=n.n(s),a=n(6314),o=n.n(a)()(i());o.push([e.id,".chat-field__title {\n  margin-bottom: 10%;\n}\n\n.chat-field__separator {\n  text-align: center;\n  font-size: 0.8em;\n  padding: 0 0.6em 0.1em 0.6em;\n  width: 90%;\n  background-color: rgba(0, 0, 0, 0.255);\n  border-radius: 3px;\n  margin: 1.5rem 0;\n}\n\n.chat-field__message {\n  position: relative;\n  font-size: 0.6em;\n  padding: 0.3rem 0.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  gap: 0.3rem;\n  width: 50%;\n  background-color: #ffffffa1;\n  border-radius: 15px;\n}\n\n.chat-field__message.mine {\n  cursor: pointer;\n  align-self: flex-end;\n}\n\n.chat-field__message.not-mine {\n  align-self: flex-start;\n}\n\n.message__header {\n  display: flex;\n  width: 100%;\n  justify-content: space-around;\n}\n\n.message__header > :last-child {\n  font-size: 0.9em;\n}\n\n.message__text {\n  padding: 0.7em;\n  font-size: 1.3em;\n  background-color: rgba(189, 129, 183, 0.486);\n  border-radius: 5px;\n}\n\n.message__status {\n  width: 95%;\n  display: flex;\n  justify-content: space-between;\n}\n\n.message__action-menu {\n  position: absolute;\n  top: 0;\n  left: -10%;\n  display: flex;\n  flex-direction: column;\n  gap: 0.2em;\n  width: 50%;\n  background-color: #747474a2;\n  padding: 0.3em;\n  border-radius: 5px;\n  font-size: 1.4em;\n}\n\n.action-menu__action {\n  cursor: pointer;\n  border-radius: 3px;\n  padding: 2px;\n  transition: all linear 100ms;\n}\n\n.action-menu__action:hover {\n  background-color: rgba(98, 98, 98, 0.342);\n}\n\n@media screen and (max-width: 700px) {\n  .chat-field__message {\n    width: 70%;\n  }\n}\n",""]);const r=o},5526:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(1601),i=n.n(s),a=n(6314),o=n.n(a)()(i());o.push([e.id,".main__message-section {\n  width: 70%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n}\n\n.message-section__header {\n  display: flex;\n  justify-content: space-around;\n  width: 95%;\n  border-bottom: solid 2px #ffffff;\n  height: 2em;\n}\n\n.message-section__chat-field {\n  width: 100%;\n  height: 100%;\n  overflow-y: scroll;\n  display: flex;\n  gap: 0.5rem;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.message-section__chat-form {\n  width: 100%;\n  display: flex;\n  gap: 0.5rem;\n}\n\n.chat-form__field {\n  flex-grow: 5;\n}\n\n.chat-form__submit {\n  font-size: 1em;\n  flex-grow: 1;\n}\n\n.chat-form__submit:disabled {\n  cursor: default;\n  background-color: gray;\n}\n.chat-form__submit:disabled:hover {\n  color: white;\n  text-shadow: none;\n}\n\n@media screen and (max-width: 600px) {\n  .main__message-section {\n    width: 100%;\n  }\n\n  .message-section__header {\n    font-size: 0.75em;\n  }\n\n  .message-section__chat-form {\n    font-size: 0.9em;\n  }\n}\n",""]);const r=o},2365:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(1601),i=n.n(s),a=n(6314),o=n.n(a)()(i());o.push([e.id,".main__users-section {\n  width: 30%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.user-section__sort-div {\n  display: flex;\n  margin-bottom: 0.2rem;\n}\n\n.user-section__input {\n  width: 100%;\n}\n\n.users-section__list {\n  display: flex;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  height: 90%;\n  flex-direction: column;\n  align-items: center;\n  padding: 0;\n  list-style: none;\n}\n\n.user-section__item {\n  cursor: pointer;\n  padding: 0 0.5rem 0.2rem 0.5rem;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  transition: all linear 100ms;\n  width: 90%;\n}\n\n.item__name-status {\n  width: 75%;\n  display: flex;\n  align-items: center;\n  gap: 0.5em;\n}\n\n.item__name {\n  overflow-wrap: break-word;\n  width: 100%;\n}\n\n.user-section__item.invisible {\n  display: none;\n}\n\n.user-section__item:hover {\n  background-color: #0000000e;\n}\n\n.item__indicator {\n  flex-shrink: 0;\n  box-shadow: 0 1px 2px #62345f;\n  width: 7px;\n  height: 7px;\n  border-radius: 5px;\n  border: solid 0.5px #2e2e2e;\n}\n\n.item__indicator.offline {\n  background-color: #a4a4a4;\n}\n\n.item__indicator.online {\n  background-color: rgb(65, 191, 65);\n}\n\n.item__message-counter {\n  font-size: 0.6em;\n  text-shadow: 0 1px 2px #888787;\n  box-shadow: 0 1px 2px #62345f;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 15px;\n  background-color: #c296be;\n  width: 17px;\n  height: 17px;\n}\n\n.item__message-counter.invisible {\n  display: none;\n}\n\n@media screen and (max-width: 600px) {\n  .main__users-section {\n    padding: 0.4rem;\n  }\n\n  .user-section__item {\n    padding: 0.1rem 0.2rem 0.1rem 0;\n  }\n\n  .main__users-section {\n    font-size: 1.2rem;\n    display: none;\n    z-index: 4;\n    background-color: #a29a9a7b;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    height: fit-content;\n    width: 80%;\n    height: 90%;\n    max-height: 400px;\n    min-height: 100px;\n  }\n\n  .users-section__list {\n    height: 90%;\n  }\n\n  .user-section__sort-div {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 0.4rem;\n  }\n\n  .user-section__input {\n    width: 80%;\n  }\n\n  .user-section__close {\n    position: relative;\n    cursor: pointer;\n    width: 20px;\n    height: 20px;\n  }\n\n  .user-section__close::after,\n  .user-section__close::before {\n    content: '';\n    position: absolute;\n    width: 20px;\n    height: 1.5px;\n    background-color: rgb(193, 192, 192);\n    top: 40%;\n    right: 15%;\n  }\n  .user-section__close::after {\n    transform: rotate(45deg);\n  }\n  .user-section__close::before {\n    transform: rotate(-45deg);\n  }\n\n  .item__message-counter {\n    width: 20px;\n    height: 20px;\n  }\n}\n",""]);const r=o},6555:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(1601),i=n.n(s),a=n(6314),o=n.n(a)()(i());o.push([e.id,".disconnect-banner {\n  z-index: 3;\n  position: fixed;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #0000005a;\n  backdrop-filter: blur(3px);\n  font-size: 1.5rem;\n}\n\n.disconnect-banner__notification {\n  background-color: #3535352a;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1.5em;\n  width: 30%;\n  padding: 1em;\n  border-radius: 5px;\n}\n\n.loader {\n  width: 1.6em;\n  height: 1.6em;\n  border: solid 0.2em #8080803b;\n  border-radius: 1.4em;\n  border-bottom-color: white;\n  animation: spin 1.5s linear infinite;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@media screen and (max-width: 800px) {\n  .disconnect-banner__notification {\n    width: 50%;\n  }\n}\n\n@media screen and (max-width: 600px) {\n  .disconnect-banner__notification {\n    width: 80%;\n    font-size: 0.7em;\n  }\n}\n",""]);const r=o},8859:(e,t,n)=>{n.d(t,{A:()=>h});var s=n(1601),i=n.n(s),a=n(6314),o=n.n(a),r=n(4417),d=n.n(r),l=new URL(n(7443),n.b),u=o()(i()),c=d()(l);u.push([e.id,`.info-page {\n  margin: 1rem;\n  overflow-y: scroll;\n  padding: 1.5rem 4rem;\n  width: 95%;\n  max-width: 1200px;\n  min-width: 300px;\n  font-size: 1.3rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 2rem;\n}\n\n.info-page__title {\n  font-size: 2.2em;\n  color: #260d2f;\n  text-shadow: 1px 2px 5px #7b3795;\n  align-self: center;\n}\n\n.info-pages__features {\n  display: flex;\n  flex-direction: column;\n  gap: 0.7em;\n  font-size: 1.1em;\n  background-color: #49275553;\n  border-radius: 6px;\n  padding: 10px;\n}\n.info-pages__list {\n  font-size: 0.8em;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5em;\n  list-style: circle;\n  padding-left: 1em;\n}\n.info-list__item {\n  margin: 0;\n  padding: 0;\n}\n\n.info-page__link {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.2em;\n  color: #ffffff;\n  border-bottom: solid 1px white;\n  transition: all linear 100ms;\n}\n.info-page__link:hover {\n  color: #d2d1d1;\n}\n.info-page__link:visited {\n  color: #d3d3d3;\n}\n.git-logo {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-image: url(${c});\n}\n\n.info-page__return {\n  width: fit-content;\n  align-self: center;\n}\n\n@media screen and (max-width: 800px) {\n  .info-page {\n    gap: 1.2rem;\n  }\n}\n\n@media screen and (max-width: 600px) {\n  .info-page {\n    font-size: 1rem;\n    padding: 1.5rem 2rem;\n  }\n}\n`,""]);const h=u},6314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(s)for(var r=0;r<this.length;r++){var d=this[r][0];null!=d&&(o[d]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);s&&o[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},4417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},1601:e=>{e.exports=function(e){return e[1]}},5707:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(5072),i=n.n(s),a=n(7825),o=n.n(a),r=n(7659),d=n.n(r),l=n(5056),u=n.n(l),c=n(540),h=n.n(c),f=n(1113),p=n.n(f),m=n(5346),_={};_.styleTagTransform=p(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=h(),i()(m.A,_);const g=m.A&&m.A.locals?m.A.locals:void 0},2426:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(5072),i=n.n(s),a=n(7825),o=n.n(a),r=n(7659),d=n.n(r),l=n(5056),u=n.n(l),c=n(540),h=n.n(c),f=n(1113),p=n.n(f),m=n(5431),_={};_.styleTagTransform=p(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=h(),i()(m.A,_);const g=m.A&&m.A.locals?m.A.locals:void 0},3360:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(5072),i=n.n(s),a=n(7825),o=n.n(a),r=n(7659),d=n.n(r),l=n(5056),u=n.n(l),c=n(540),h=n.n(c),f=n(1113),p=n.n(f),m=n(9119),_={};_.styleTagTransform=p(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=h(),i()(m.A,_);const g=m.A&&m.A.locals?m.A.locals:void 0},9575:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(5072),i=n.n(s),a=n(7825),o=n.n(a),r=n(7659),d=n.n(r),l=n(5056),u=n.n(l),c=n(540),h=n.n(c),f=n(1113),p=n.n(f),m=n(9308),_={};_.styleTagTransform=p(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=h(),i()(m.A,_);const g=m.A&&m.A.locals?m.A.locals:void 0},1163:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(5072),i=n.n(s),a=n(7825),o=n.n(a),r=n(7659),d=n.n(r),l=n(5056),u=n.n(l),c=n(540),h=n.n(c),f=n(1113),p=n.n(f),m=n(172),_={};_.styleTagTransform=p(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=h(),i()(m.A,_);const g=m.A&&m.A.locals?m.A.locals:void 0},3947:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(5072),i=n.n(s),a=n(7825),o=n.n(a),r=n(7659),d=n.n(r),l=n(5056),u=n.n(l),c=n(540),h=n.n(c),f=n(1113),p=n.n(f),m=n(8220),_={};_.styleTagTransform=p(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=h(),i()(m.A,_);const g=m.A&&m.A.locals?m.A.locals:void 0},2241:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(5072),i=n.n(s),a=n(7825),o=n.n(a),r=n(7659),d=n.n(r),l=n(5056),u=n.n(l),c=n(540),h=n.n(c),f=n(1113),p=n.n(f),m=n(9208),_={};_.styleTagTransform=p(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=h(),i()(m.A,_);const g=m.A&&m.A.locals?m.A.locals:void 0},7903:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(5072),i=n.n(s),a=n(7825),o=n.n(a),r=n(7659),d=n.n(r),l=n(5056),u=n.n(l),c=n(540),h=n.n(c),f=n(1113),p=n.n(f),m=n(5526),_={};_.styleTagTransform=p(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=h(),i()(m.A,_);const g=m.A&&m.A.locals?m.A.locals:void 0},3278:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(5072),i=n.n(s),a=n(7825),o=n.n(a),r=n(7659),d=n.n(r),l=n(5056),u=n.n(l),c=n(540),h=n.n(c),f=n(1113),p=n.n(f),m=n(2365),_={};_.styleTagTransform=p(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=h(),i()(m.A,_);const g=m.A&&m.A.locals?m.A.locals:void 0},5890:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(5072),i=n.n(s),a=n(7825),o=n.n(a),r=n(7659),d=n.n(r),l=n(5056),u=n.n(l),c=n(540),h=n.n(c),f=n(1113),p=n.n(f),m=n(6555),_={};_.styleTagTransform=p(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=h(),i()(m.A,_);const g=m.A&&m.A.locals?m.A.locals:void 0},8628:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(5072),i=n.n(s),a=n(7825),o=n.n(a),r=n(7659),d=n.n(r),l=n(5056),u=n.n(l),c=n(540),h=n.n(c),f=n(1113),p=n.n(f),m=n(8859),_={};_.styleTagTransform=p(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=h(),i()(m.A,_);const g=m.A&&m.A.locals?m.A.locals:void 0},5072:e=>{var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var a={},o=[],r=0;r<e.length;r++){var d=e[r],l=s.base?d[0]+s.base:d[0],u=a[l]||0,c="".concat(l," ").concat(u);a[l]=u+1;var h=n(c),f={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=i(f,s);s.byIndex=r,t.splice(r,0,{identifier:c,updater:p,references:1})}o.push(c)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=s(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var r=n(a[o]);t[r].references--}for(var d=s(e,i),l=0;l<a.length;l++){var u=n(a[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=d}}},7659:e=>{var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8675:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(5707);const i=s(n(2073)),a=s(n(4210)),o=s(n(4188)),r=s(n(4038)),d=s(n(6823)),l=s(n(512));t.default=class{constructor(){this.container=document.body,this.currentHref="entry";const e=this.createRoutes();this.router=new r.default(e)}run(){i.default.router=this.router}createRoutes(){return[{path:"entry",callback:()=>{d.default.get("user-data")?i.default.logOut():(this.container.innerHTML="",this.container.append(new a.default(this.router).element)),this.currentHref="entry"}},{path:"chat",callback:()=>{d.default.get("user-data")?(this.container.innerHTML="",this.container.append((new o.default).element),this.currentHref="chat"):this.router.navigate("entry")}},{path:"info",callback:()=>{this.container.innerHTML="",this.container.append(new l.default(this.currentHref).element)}}]}setContent(e){this.container.innerHTML="",this.container.append(e.getElement())}}},8156:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),(new(s(n(8675)).default)).run()},6465:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=s(n(6823)),o=s(n(2181)),r=s(n(6655)),d=s(n(4377)),l=s(n(2073)),u=n(9469),c=s(n(3201)),h=s(n(3907)),f=s(n(2568)),p=s(n(1473));class m extends i.default{constructor(e){super({tag:"form",classes:["entry-page__authentication-form"]}),this.login=new c.default(new d.default(new r.default({type:"text",id:"login"}),{classes:["authentication-form__label"],textContent:"Enter your login: "}),new h.default("login")),this.password=new c.default(new d.default(new r.default({type:"password",id:"password"}),{classes:["authentication-form__label"],textContent:"Enter you password: "}),new h.default("password")),this.errorContainer=new i.default({classes:["authentication-form_error-container"]}),this.showErrorMessage=e=>{const t=JSON.parse(e.data);if("ERROR"===t.type&&"user-login"===t.id){a.default.clear();let e=t.payload.error;e=`${e.charAt(0).toUpperCase()+e.slice(1)}.`,new f.default(e).showMessage(this.errorContainer)}},this.getEntryData=()=>({login:this.login.input.value,password:this.password.input.value}),this.entry=e=>{e.preventDefault();const t=this.getEntryData(),{login:n}=t,{password:s}=t;m.validate(n,s)&&(a.default.save("user-data",{login:n,password:s}),l.default.logIn(n,s))};const t=new o.default("Login",["authentication-form__title"]);this.addListener("submit",this.entry),this.appendChildren(t,this.login,this.password,new p.default,this.errorContainer),this.router=e,l.default.socket.addEventListener("message",this.showErrorMessage)}static validate(e,t){return e.length>2&&e.length<16&&u.loginRegExp.test(e)&&t.length>3&&u.passwordRegExp.test(t)}}t.default=m},1473:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(652)),a=s(n(4023)),o=s(n(6655));class r extends a.default{constructor(){super({classes:["authentication-form__buttons"]});const e=new o.default({type:"submit",id:"submit",value:"Log in",classes:["button"]}),t=new i.default;this.appendChildren(t,e)}}t.default=r},2568:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(e){super({textContent:e,classes:["authentication-form__error"]})}showMessage(e){e.removeChildren(),e.append(this)}}t.default=a},3907:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(e){super({classes:["authentication-form__hint","hint"],textContent:"You should match this requirements:"}),this.requirementList=new i.default({tag:"ul",classes:["hint__list"]}),this.createList(e),this.append(this.requirementList)}createList(e){const t=e=>new i.default({tag:"li",textContent:e});switch(e){case"login":this.requirementList.appendChildren(t("The English letters"),t("First letter in uppercase"),t("Minimum and maximum login lengths are 3 and 15 characters respectively"));break;case"password":this.requirementList.appendChildren(t("The English letters"),t("At least one upper-case letter"),t("The minimum password length is 4 characters"))}}}t.default=a},3201:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=n(9469);class o extends i.default{constructor(e,t){super({classes:["authentication-form__field"]}),this.showDemands=e=>{const t=e.target;if(t instanceof HTMLInputElement){const{value:e}=t;switch(t.id){case"login":a.loginRegExp.test(e)&&e.length>2&&e.length<16?this.hint.removeClass("visible"):this.hint.addClass("visible");break;case"password":a.passwordRegExp.test(e)&&e.length>3?this.hint.removeClass("visible"):this.hint.addClass("visible")}}},this.input=e.input,this.hint=t,this.input.addListener("input",this.showDemands),this.appendChildren(e,t)}}t.default=o},4210:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(2426);const i=s(n(4023)),a=s(n(6465)),o=s(n(2181));class r extends i.default{constructor(e){super({tag:"section",classes:["entry-page"]});const t=new a.default(e);this.appendChildren(new o.default("Welcome to Fun Chat!",["entry-page__title"]),t)}}t.default=r},4188:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(3360);const i=s(n(4023)),a=s(n(3453)),o=s(n(9053)),r=s(n(5209));class d extends i.default{constructor(){super({tag:"section",classes:["chat-page"]},new a.default,new o.default,new r.default)}}t.default=d},5209:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(2181));n(9575);const a=s(n(4023));class o extends a.default{constructor(){super({tag:"footer",classes:["chat-page-footer","footer"]});const e=new a.default({tag:"a",href:"https://rs.school/",target:"_blank"},new a.default({classes:["footer__school-logo"]})),t=new a.default({tag:"a",href:"https://github.com/sunlaa",target:"_blank",classes:["footer__git-name"]},new a.default({classes:["footer__git-logo"]}),new i.default("Lada",["footer__name"])),n=new i.default("2024",["footer__year"]);this.appendChildren(e,t,n)}}t.default=o},3453:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(1163);const i=s(n(4023)),a=s(n(2181)),o=s(n(5449)),r=s(n(8974));class d extends i.default{constructor(){super({tag:"header",classes:["chat-page__header","header"]}),this.appendChildren(new i.default({classes:["header__user-data"]},new o.default,new a.default("Fun Chat",["header__title"])),new r.default)}}t.default=d},5387:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4665)),a=s(n(4023)),o=n(9469);class r extends a.default{constructor(){super({textContent:"Friends",classes:["header__friends","button"]}),this.showBtn=()=>{window.innerWidth<=o.widthToHideUsers?this.show():this.hide()},window.addEventListener("resize",this.showBtn),this.addListener("click",r.openFriends)}static openFriends(){const e=document.querySelector(".user-section");e&&(e.dispatchEvent(new CustomEvent("show-friends")),i.default.show())}show(){this.setStyles({display:"block"})}hide(){this.setStyles({display:"none"})}}t.default=r},652:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(){super({tag:"a",href:"#info",textContent:"Info",classes:["header__info","button"]})}}t.default=a},4396:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=s(n(2073));class o extends i.default{constructor(){super({textContent:"Log Out",classes:["header__log-out","button"]}),this.addListener("click",(()=>{a.default.logOut()}))}}t.default=o},8974:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=s(n(652)),o=s(n(4396)),r=s(n(5387));class d extends i.default{constructor(){super({classes:["header__nav-buttons"]},new r.default,new a.default,new o.default)}}t.default=d},5449:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=s(n(2073));class o extends i.default{constructor(){super({tag:"p",classes:["header__user-name"]}),this.firstApply=!0,this.updateName=()=>{this.firstApply&&this.setContent(`User: ${a.default.user}`),this.firstApply=!1},a.default.socket.addEventListener("message",this.updateName)}}t.default=o},9053:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(3947);const i=s(n(4023)),a=s(n(4822)),o=s(n(2865));class r extends i.default{constructor(){super({tag:"main",classes:["chat-page__main","main"]});const e=new a.default,t=new o.default;e.list.userItems=t.chatField.userItems,this.appendChildren(e,t)}}t.default=r},5687:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(2073));n(2241);const a=s(n(4023)),o=s(n(2181)),r=s(n(5625)),d=s(n(5208));class l extends a.default{constructor(){super({tag:"div",classes:["message-section__chat-field","chat-field"]},new o.default("Choose someone to talk",["chat-field__title"])),this.currentUser="",this.firstMessage=new o.default("Write your first message!",["chat-field__title"]),this.userItems=[],this.unreadMessages=[],this.separator=new d.default,this.isFirstUnread=!0,this.drawMessage=e=>{const t=JSON.parse(e.data),{message:n}=t.payload;if("MSG_SEND"===t.type){if(this.currentUser===n.to||this.currentUser===n.from){const e=this.appendMessage(n);this.separator.element.parentElement===this.element?this.separator.element.scrollIntoView({behavior:"smooth",block:"start"}):e.element.scrollIntoView({behavior:"smooth",block:"end"})}const e=this.userItems.find((e=>e.login===n.from));e&&e.messageCounter.increse()}"MSG_FROM_USER"===t.type&&"get-specified-user"===t.id&&(this.removeChildren(),this.unreadMessages=[],this.isFirstUnread=!0,0===t.payload.messages.length?this.append(this.firstMessage):t.payload.messages.forEach((e=>{this.appendMessage(e)})),this.separator.element.parentElement===this.element?this.separator.element.scrollIntoView():this.element.scrollTop=this.element.scrollHeight)},this.removeMessageCounter=e=>{if("MSG_READ"===JSON.parse(e.data).type){const e=this.userItems.find((e=>e.login===this.currentUser));e&&e.messageCounter.reset()}},this.decreaseMessageCounter=e=>{if("MSG_DELETE"===JSON.parse(e.data).type){const e=this.userItems.find((e=>e.login===this.currentUser));e&&(e.messageCounter.decrese(),e.messageCounter.counter<=0&&this.separator.remove())}},this.changeStatus=()=>{this.unreadMessages.forEach((e=>{i.default.changeReadStatus(e.id)})),this.unreadMessages=[],this.separator.remove(),this.isFirstUnread=!0},i.default.socket.addEventListener("message",this.drawMessage),i.default.socket.addEventListener("message",this.removeMessageCounter),i.default.socket.addEventListener("message",this.decreaseMessageCounter),this.addListener("click",this.changeStatus),this.addListener("wheel",this.changeStatus)}appendMessage(e){this.firstMessage.remove();const t=new r.default(e);return t.addStatus(e),this.append(t),e.status.isReaded||(this.addSeparator(t),this.unreadMessages.push(t)),t}addSeparator(e){this.isFirstUnread&&e.from===this.currentUser&&(this.separator.add(this,e),this.isFirstUnread=!1)}}t.default=l},5693:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=s(n(2073));class o extends i.default{constructor(){super({tag:"article",classes:["message__action-menu","action-menu"]}),this.id="",this.text="",this.delete=new i.default({classes:["action-menu__delete","action-menu__action"],textContent:"Delete"}),this.edit=new i.default({classes:["action-menu__edit","action-menu__action"],textContent:"Edit"}),this.deleteMessage=()=>{a.default.deleteMessage(this.id),this.remove()},this.editMessage=()=>{const e=document.querySelector(".chat-form");e&&(e.dispatchEvent(new CustomEvent("edit",{detail:{text:this.text,id:this.id}})),this.remove())},this.delete.addListener("click",this.deleteMessage),this.edit.addListener("click",this.editMessage),this.appendChildren(this.edit,this.delete)}}const r=new o;t.default=r},5625:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=s(n(2073)),o=s(n(4705)),r=s(n(5693));class d extends i.default{constructor(e){super({classes:["chat-field__message","message"]}),this.updateDeliveryStatus=e=>{const t=JSON.parse(e.data);"MSG_DELIVER"===t.type&&t.payload.message.id===this.id&&this.statusFooter.changeStatus(t.payload.message.status.isDelivered)},this.updateReadStatus=e=>{const t=JSON.parse(e.data);"MSG_READ"===t.type&&this.id===t.payload.message.id&&this.from===a.default.user&&(this.isRead=!0,this.statusFooter.changeStatus(!0,!0))},this.updateEditStatus=e=>{const t=JSON.parse(e.data);"MSG_EDIT"===t.type&&this.id===t.payload.message.id&&(this.messageText.setContent(t.payload.message.text),this.statusFooter.changeEditStatus(t.payload.message.status.isEdited))},this.deleteMessage=e=>{const t=JSON.parse(e.data);"MSG_DELETE"===t.type&&this.id===t.payload.message.id&&this.remove()},this.showActionMenu=e=>{e.preventDefault(),this.from===a.default.user&&(r.default.id=this.id,r.default.text=this.messageText.content,this.append(r.default))},this.id=e.id,this.from=e.from,this.isRead=e.status.isReaded,this.from===a.default.user?this.addClass("mine"):this.addClass("not-mine"),this.messageText=new i.default({classes:["message__text"],textContent:e.text}),this.statusFooter=new o.default,this.createMessage(e),this.append(this.statusFooter),this.addListener("contextmenu",this.showActionMenu),a.default.socket.addEventListener("message",this.updateDeliveryStatus),a.default.socket.addEventListener("message",this.updateReadStatus),a.default.socket.addEventListener("message",this.updateEditStatus),a.default.socket.addEventListener("message",this.deleteMessage)}createMessage(e){const t=Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"medium"}).format(new Date(e.datetime)),n=this.from===a.default.user?"You":this.from,s=new i.default({classes:["message__header"]},new i.default({textContent:n}),new i.default({textContent:t}));this.appendChildren(s,this.messageText)}addStatus(e){e.from===a.default.user&&this.statusFooter.changeStatus(e.status.isDelivered,e.status.isReaded),this.statusFooter.changeEditStatus(e.status.isEdited)}}t.default=d},5208:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(){super({classes:["chat-field__separator"],textContent:"Unread messages"}),this.isFirst=!0}add(e,t){e.element.insertBefore(this.element,t.element)}}t.default=a},4705:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(){super({classes:["message__status","status"]}),this.editStatus=new i.default({classes:["status__edit"]}),this.deliveryStatus=new i.default({classes:["status__delivery"]}),this.appendChildren(this.editStatus,this.deliveryStatus)}changeEditStatus(e){e&&this.editStatus.setContent("Edited")}changeStatus(e,t){t?this.deliveryStatus.setContent("Read"):e?this.deliveryStatus.setContent("Delivered"):this.deliveryStatus.setContent("Sent")}}t.default=a},5307:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=s(n(6655)),o=s(n(2073));class r extends i.default{constructor(){super({tag:"form",classes:["message-section__chat-form","chat-form"]}),this.messageField=new a.default({classes:["chat-form__field","main-input"],type:"text",placeholder:"Your message..."}),this.sendButton=new a.default({classes:["chat-form__submit","button"],type:"submit",value:"Send"}),this.to="",this.isEdit=!1,this.messageId="",this.chatField=null,this.sendMessage=e=>{if(e.preventDefault(),!this.chatField)throw new Error("No chat field!");const t=this.messageField.value.trim();0===t.length||this.isEdit?this.isEdit&&(0!==t.length&&o.default.editMessage(this.messageId,this.messageField.value),this.isEdit=!1,this.sendButton.value="Send",this.messageField.clear()):(o.default.sendMessage(this.to,t),this.messageField.clear(),this.chatField.separator.remove(),this.chatField.changeStatus())},this.editMessage=e=>{const t=e,n=t.detail.text;this.messageId=t.detail.id,this.messageField.value=n,this.messageField.focus(),this.sendButton.value="Edit",this.isEdit=!0},this.disable(),this.appendChildren(this.messageField,this.sendButton),this.addListener("submit",this.sendMessage),this.addListener("edit",this.editMessage)}disable(){this.messageField.off(),this.sendButton.off()}enable(){this.messageField.on(),this.sendButton.on()}}t.default=r},5835:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=s(n(2181)),o=s(n(2073));class r extends i.default{constructor(){super({classes:["message-section__header"]}),this.login="",this.updateStatus=e=>{const t=JSON.parse(e.data);if("USER_EXTERNAL_LOGIN"===t.type||"USER_EXTERNAL_LOGOUT"===t.type){const{user:e}=t.payload;if(e.login===this.login){const t=e.isLogined?"online":"offline";this.addContent(t,e.login)}}},o.default.socket.addEventListener("message",this.updateStatus)}addContent(e,t){this.removeChildren(),this.login=t;const n=new a.default(e,["header__status"]),s=new a.default(t,["header__login"]);this.appendChildren(s,n)}}t.default=r},2865:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(7903);const i=s(n(4023)),a=s(n(2073)),o=s(n(5835)),r=s(n(5307)),d=s(n(5687)),l=s(n(5693));class u extends i.default{constructor(){super({tag:"article",classes:["main__message-section","message-section","section"]}),this.chatHeader=new o.default,this.chatField=new d.default,this.chatForm=new r.default,this.loadHistory=e=>{const t=e.detail;this.chatForm.to=t.login,this.chatForm.chatField=this.chatField,this.chatField.currentUser=t.login,this.chatHeader.addContent(t.status,t.login),a.default.fetchMessages(t.login,"get-specified-user"),this.chatForm.enable()},this.addListener("open-chat",this.loadHistory),this.addListener("click",u.removeActionMenu),this.appendChildren(this.chatHeader,this.chatField,this.chatForm)}}u.removeActionMenu=e=>{e.target!==l.default.element&&l.default.remove()},t.default=u},9567:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(6655));class a extends i.default{constructor(e){super({classes:["user-section__input","main-input"],type:"text",placeholder:"Search..."}),this.sort=()=>{const e=this.value.toLowerCase();this.list.getChildren().forEach((t=>{var n;const s=null===(n=t.textContent)||void 0===n?void 0:n.toLowerCase();(null==s?void 0:s.includes(e))?t.classList.remove("invisible"):t.classList.add("invisible")}))},this.list=e,this.addListener("input",this.sort)}}t.default=a},2300:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=n(9469),o=s(n(4665)),r=s(n(9567));class d extends i.default{constructor(e,t){super({classes:["user-section__sort-div"]},new r.default(t)),this.crossVisibility=()=>{window.innerWidth<=a.widthToHideUsers?this.showCross():this.hideCross()},this.closeCross=new i.default({classes:["user-section__close"]}),this.closeCross.addListener("click",(()=>{e.setStyles({display:"none"}),o.default.hide()})),this.append(this.closeCross),window.addEventListener("resize",this.crossVisibility)}showCross(){this.closeCross.setStyles({display:"block"})}hideCross(){this.closeCross.setStyles({display:"none"})}}t.default=d},4822:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(3278);const i=s(n(4023)),a=s(n(4665)),o=n(9469),r=s(n(5386)),d=s(n(2300));class l extends i.default{constructor(){super({tag:"aside",classes:["main__users-section","user-section","section"]}),this.showFriends=()=>{this.setStyles({display:"flex"})},this.hideFriends=()=>{this.setStyles({display:"none"})},this.resize=()=>{window.innerWidth>o.widthToHideUsers?this.showFriends():(this.hideFriends(),a.default.hide())},this.list=new r.default,this.appendChildren(new d.default(this,this.list),this.list),this.addListener("show-friends",this.showFriends),window.addEventListener("resize",this.resize)}}t.default=l},3616:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=s(n(2073));class o extends i.default{constructor(e){super({classes:["item__message-counter","invisible"]}),this.counter=0,this.setCounter=e=>{const t=JSON.parse(e.data);if("MSG_FROM_USER"===t.type&&"initial-request"===t.id){const e=this.getUnreadCount(t.payload.messages);0!==e&&(this.counter=e,this.setContent(`${e}`),this.removeClass("invisible"))}},this.login=e,a.default.socket.addEventListener("message",this.setCounter)}increse(){this.counter+=1,this.setContent(`${this.counter}`),this.removeClass("invisible")}decrese(){this.counter-=1,this.counter>0?this.setContent(`${this.counter}`):this.addClass("invisible")}reset(){this.counter=0,this.addClass("invisible")}getUnreadCount(e){let t=0;return e.forEach((e=>{e.status.isReaded||e.from!==this.login||(t+=1)})),t}}t.default=o},2979:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=n(9469),o=s(n(4665)),r=s(n(3616));class d extends i.default{constructor(e,t){super({tag:"li",classes:["user-section__item","item"]}),this.openChat=()=>{const e=document.querySelector(".message-section");if(e&&e.dispatchEvent(new CustomEvent("open-chat",{detail:{status:this.status,login:this.login}})),window.innerWidth<=a.widthToHideUsers){const e=document.querySelector(".user-section");e instanceof HTMLElement&&(e.style.display="none"),o.default.hide()}},this.status=e,this.login=t,this.indicator=new i.default({classes:["item__indicator",`${e}`]});const n=new i.default({classes:["item__name-status"]},this.indicator,new i.default({classes:["item__name"],textContent:t}));this.messageCounter=new r.default(t),this.addListener("click",this.openChat),this.appendChildren(n,this.messageCounter)}changeStatus(e,t){t?(this.indicator.removeClass("offline"),this.indicator.addClass("online"),e.prepend(this)):(this.indicator.removeClass("online"),this.indicator.addClass("offline"),e.append(this))}}t.default=d},5386:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=s(n(2073)),o=s(n(2979));class r extends i.default{constructor(){super({tag:"ul",classes:["users-section__list"]}),this.userItems=[],this.drawAllUsers=e=>{const t=JSON.parse(e.data);"USER_ACTIVE"===t.type&&this.fillAuthenticatedUsers(t.payload.users),"USER_INACTIVE"===t.type&&this.fillUnauthorizedUsers(t.payload.users)},this.redrawExternalUser=e=>{const t=JSON.parse(e.data);if("USER_EXTERNAL_LOGIN"===t.type||"USER_EXTERNAL_LOGOUT"===t.type){const{login:e}=t.payload.user,{isLogined:n}=t.payload.user,s=this.findByName(e);s?s.changeStatus(this,n):this.addUser("online",e)}},a.default.socket.addEventListener("message",this.drawAllUsers),a.default.socket.addEventListener("message",this.redrawExternalUser)}addUser(e,t){const n=new o.default(e,t);a.default.fetchMessages(t,"initial-request"),"offline"===e?this.append(n):this.prepend(n),this.userItems.push(n)}fillAuthenticatedUsers(e){e.forEach((e=>{e.login!==a.default.user&&this.addUser("online",e.login)}))}fillUnauthorizedUsers(e){e.forEach((e=>{this.addUser("offline",e.login)}))}findByName(e){return this.userItems.find((t=>t.login===e))}}t.default=r},674:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(5890);const i=s(n(4023)),a=s(n(4323));class o extends i.default{constructor(){super({classes:["disconnect-banner"]},new a.default("Connection failure, please check the connection to the server.",["disconnect-banner__notification","section"],new i.default({classes:["loader"]}))),this.intervalID=0}show(){document.body.append(this.element)}hide(){this.remove()}}t.default=o},914:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(e){super({tag:"ul",classes:["info-pages__list","info-list"]}),this.features=e,this.fillList()}fillList(){this.features.forEach((e=>{var t;this.append((t=e,new i.default({tag:"li",textContent:t,classes:["info-list__item"]})))}))}}t.default=a},5185:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023)),a=s(n(2073));class o extends i.default{constructor(e){super({tag:"a",textContent:"Return",classes:["info-page__return","button"],href:`#${e}`}),this.back=()=>{"chat"===this.prev&&a.default.getAllUsers()},this.prev=e,this.addListener("click",this.back)}}t.default=o},512:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(8628);const i=s(n(4023)),a=s(n(8602)),o=s(n(2181)),r=s(n(4323)),d=s(n(914)),l=s(n(5185)),u=["User authorization","Tracking user status (online/offline)","Dynamic updating of the list of users and their status","Sending/receiving messages","Edit/delete messages","Notification of users about any activity of another user"];class c extends i.default{constructor(e){super({tag:"section",classes:["info-page","section"]},new o.default("Fun Chat",["info-page__title"]),new r.default("This application is a messenger for chatting between multiple people. It works by using the WebSocket protocol. To use the application, you need to install and run the ",void 0,new a.default("server.","https://github.com/rolling-scopes-school/fun-chat-server/tree/main",["info-page__link"])),new r.default("The application has the following functionality:",["info-pages__features"],new d.default(u)),new i.default({classes:["info-page__authors"]},new r.default("It was developed as part of RSSchool course by ",void 0,new a.default("sunlaa","https://github.com/sunlaa",["info-page__link"],new i.default({tag:"span",classes:["git-logo"]}))),new r.default("Server developer - ",void 0,new a.default("MikAleinik","https://github.com/MikAleinik",["info-page__link"],new i.default({tag:"span",classes:["git-logo"]})))),new l.default(e))}}t.default=c},8602:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(e,t,n,...s){super({tag:"a",target:"_blank",href:t,textContent:e},...s),n&&n.forEach((e=>this.addClass(e)))}}t.default=a},4665:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(){super({classes:["backdrop"]})}show(){document.body.append(this.element)}hide(){this.remove()}}const o=new a;t.default=o},4023:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(7701));class a{constructor(e,...t){let{tag:n}=e;n||(n="div");const s=document.createElement(n);e.styles&&Object.assign(s.style,e.styles),e.content&&(s.textContent=e.content),Object.assign(s,e),this.element=s,e.classes&&e.classes.forEach((e=>this.element.classList.add(e))),t&&this.appendChildren(...t)}get content(){return this.element.textContent||""}setContent(e){this.element.textContent=e}addClass(e){this.element.classList.add(e)}removeClass(e){this.element.classList.remove(e)}classList(){return this.element.classList}containClass(e){return!!this.element.classList.contains(e)}getElement(){return this.element}append(e){if(e instanceof a){const t=e.getElement();this.element.append(t)}else this.element.append(e)}prepend(e){if(e instanceof a){const t=e.getElement();this.element.prepend(t)}else this.element.prepend(e)}appendChildren(...e){e.filter(i.default).forEach((e=>{this.append(e)}))}getChildren(){const{children:e}=this.element,t=[];for(let n=0;n<e.length;n+=1)e[n]instanceof HTMLElement&&t.push(e[n]);return t}removeChildren(){this.getChildren().forEach((e=>{e.remove()}))}remove(){this.element.remove()}addListener(e,t){this.element.addEventListener(e,t)}removeListener(e,t){this.element.removeEventListener(e,t)}setAttribute(e,t){this.element.setAttribute(e,t)}setStyles(e){Object.assign(this.element.style,e)}}t.default=a},4323:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(e,t,...n){super({tag:"p",textContent:e},...n),t&&t.forEach((e=>this.addClass(e)))}}t.default=a},6655:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(e){super(Object.assign({tag:"input",autocomplete:"off"},e))}get value(){return this.element.value}set value(e){this.element.value=e}focus(){this.element.focus()}clear(){this.element.value=""}off(){this.element.disabled=!0}on(){this.element.disabled=!1}}t.default=a},4377:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(e,t){super(Object.assign({tag:"label"},t),e),this.input=e}}t.default=a},2181:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4023));class a extends i.default{constructor(e,t){super({tag:"span",classes:t,textContent:e})}}t.default=a},7701:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!=e}},4038:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.navigate=e=>{"string"==typeof e&&(window.location.hash=e);const t=window.location.hash.slice(1),n=this.routes.find((e=>e.path===t));if(!n)throw new Error("Page not found!");n.callback()},this.routes=e,window.addEventListener("hashchange",this.navigate)}}},6823:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(7701));t.default=class{static save(e,t){const n=JSON.stringify(t);window.sessionStorage.setItem(e,n)}static get(e){const t=sessionStorage.getItem(e);return(0,i.default)(t)?JSON.parse(t):null}static clear(){window.sessionStorage.clear()}}},9469:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.widthToHideUsers=t.passwordRegExp=t.loginRegExp=void 0,t.loginRegExp=/^[A-Z]/,t.passwordRegExp=/.*[A-Z].*/,t.widthToHideUsers=600},2073:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WSocket=void 0;const i=s(n(674)),a=s(n(6823)),o="ws://localhost:4000";class r{constructor(){this.isFirstLoader=!0,this.socket=new WebSocket(o),this.user="",this.router=null,this.intervalID=0,this.disconnect=new i.default,this.initialization=()=>{this.socket.addEventListener("message",this.hearMessages),this.socket.addEventListener("open",(()=>{this.disconnect.hide(),this.isFirstLoader=!0;const e=a.default.get("user-data");e?this.logIn(e.login,e.password):this.router&&this.router.navigate("entry")})),this.socket.addEventListener("close",(()=>{this.isFirstLoader&&(this.disconnect.show(),this.isFirstLoader=!1),this.socket=new WebSocket(o),this.initialization()}))},this.hearMessages=e=>{const t=JSON.parse(e.data);switch(t.type){case"USER_LOGIN":this.router&&this.router.navigate("chat"),this.getAllUsers(),this.user=t.payload.user.login;break;case"USER_LOGOUT":a.default.clear(),this.router&&this.router.navigate("entry")}},this.initialization()}logIn(e,t){const n={id:"user-login",type:"USER_LOGIN",payload:{user:{login:e,password:t}}};this.socket.send(JSON.stringify(n))}logOut(){const e=a.default.get("user-data");if(!e)throw new Error("No saved user's data");const t={id:"user-logout",type:"USER_LOGOUT",payload:{user:Object.assign({},e)}};this.socket.send(JSON.stringify(t))}getAllAuthenticatedUsers(){this.socket.send(JSON.stringify({id:"get-authenticated-users",type:"USER_ACTIVE",payload:null}))}getAllUnauthorizedUsers(){this.socket.send(JSON.stringify({id:"get-unauthorized-users",type:"USER_INACTIVE",payload:null}))}getAllUsers(){this.getAllAuthenticatedUsers(),this.getAllUnauthorizedUsers()}sendMessage(e,t){const n={id:"send-message",type:"MSG_SEND",payload:{message:{to:e,text:t}}};this.socket.send(JSON.stringify(n))}fetchMessages(e,t){const n={id:t,type:"MSG_FROM_USER",payload:{user:{login:e}}};this.socket.send(JSON.stringify(n))}changeReadStatus(e){const t={id:"read-message",type:"MSG_READ",payload:{message:{id:e}}};this.socket.send(JSON.stringify(t))}editMessage(e,t){const n={id:"edit-message",type:"MSG_EDIT",payload:{message:{id:e,text:t}}};this.socket.send(JSON.stringify(n))}deleteMessage(e){const t={id:"delete-message",type:"MSG_DELETE",payload:{message:{id:e}}};this.socket.send(JSON.stringify(t))}}t.WSocket=r;const d=new r;t.default=d},6072:(e,t,n)=>{e.exports=n.p+"86794273875082d9e358.jpg"},7443:(e,t,n)=>{e.exports=n.p+"76c251b9dd291d8c1256.svg"},7269:(e,t,n)=>{e.exports=n.p+"690790577d9e275226be.jpg"}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={id:s,exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var i=s.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=s[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,n(8156)})();