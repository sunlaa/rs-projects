(()=>{"use strict";var t={5346:(t,e,n)=>{n.d(e,{A:()=>o});var s=n(1601),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([t.id,"html,\nbody {\n  height: 100%;\n  margin: 0;\n}\n\nbody {\n  font-family: 'Racing Sans One', sans-serif;\n  background-color: #90c95b;\n  background-repeat: no-repeat;\n  background-size: cover;\n}\n\n.navigation {\n  margin: 0.5rem 0 1rem 1rem;\n  display: flex;\n  gap: 1rem;\n}\n\n.total-counter {\n  margin: 1rem 0 0 0.5rem;\n  font-size: 2rem;\n  align-self: flex-start;\n  color: #f9f8f8;\n  text-shadow: 1px 2px 0px black;\n}\n\n.page-counter {\n  margin: 1rem 0 0 0.5rem;\n  color: #f9f8f8;\n  text-shadow: 1px 2px 0px black;\n  font-size: 1.5rem;\n}\n\n.winner-banner {\n  z-index: 10;\n  margin: 0;\n  width: 100%;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  opacity: 0;\n  font-size: 3rem;\n  text-shadow: 0 -3px 3px hsl(0, 100%, 50%);\n  text-align: center;\n  transition: all linear 200ms;\n}\n",""]);const o=a},2300:(t,e,n)=>{n.d(e,{A:()=>o});var s=n(1601),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([t.id,".create-redo-fields {\n  margin: 1rem 0 0 0.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.form {\n  width: fit-content;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.3rem;\n  background-color: #6161611b;\n  padding: 0.5rem;\n  border-radius: 10px;\n}\n\n.form input {\n  transition: all linear 200ms;\n}\n\n.form input[type='text'] {\n  font-family: 'Racing Sans One', sans-serif;\n  font-size: 1.1rem;\n  border: solid 1px #616161;\n  border-radius: 3px;\n  height: 1.5rem;\n  width: 8rem;\n}\n\n.form input[type='text']:focus-visible {\n  outline: none;\n}\n\n.form input[type='color'] {\n  width: 2.5rem;\n  cursor: pointer;\n  border-radius: 6px;\n  background-color: #dcdcdc;\n  border: solid 1px black;\n  height: 1.5rem;\n}\n\n.form input[type='color']:disabled {\n  cursor: default;\n}\n\n.form input[type='submit'] {\n  cursor: pointer;\n  width: 5rem;\n  font-family: 'Racing Sans One', sans-serif;\n  background-color: #752ed1;\n  border: solid 1px #3b146e;\n  border-bottom: 6px #3b146e solid;\n  color: white;\n  text-shadow: 1px 1px 0 black;\n  border-radius: 5px;\n  font-size: 1.1rem;\n}\n\n.form input[type='submit']:disabled {\n  cursor: default;\n  background-color: #9f9f9f;\n  border-color: #616161;\n  color: #d4d3d3;\n}\n\n.create-form {\n  position: relative;\n}\n\n.input-hint {\n  user-select: none;\n  position: absolute;\n  opacity: 0;\n  left: 0.35rem;\n  bottom: -0.9rem;\n  user-select: none;\n  background-color: #ffffff;\n  padding: 0.3rem 0.5rem;\n  width: fit-content;\n  border-radius: 5px;\n  border: 1px solid gray;\n  font-size: 0.8rem;\n  transition: all linear 200ms;\n}\n",""]);const o=a},9060:(t,e,n)=>{n.d(e,{A:()=>o});var s=n(1601),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([t.id,".button {\n  width: fit-content;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  cursor: pointer;\n  padding: 0.2rem 0.5rem;\n  background-color: #3b35b0;\n  color: #ffffff;\n  font-size: 1.1rem;\n  text-shadow: 1px 1px 0 black;\n  border-radius: 10px;\n  border: solid 1px #110286;\n  border-bottom: 4px solid #5953da;\n  transition: all linear 200ms;\n}\n\n.button:hover {\n  background-color: #4a43d3;\n  color: rgb(255, 255, 255);\n}\n\n.control-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 0.1rem;\n}\n\n.button.control {\n  width: 0.8rem;\n  border-radius: 20px;\n  font-size: 1.1rem;\n  padding: 0.2rem 0.5rem;\n  text-shadow: none;\n}\n\n.start-button {\n  background-color: #7bc50c;\n  border-color: green;\n  color: #000000;\n}\n\n.start-button:hover {\n  background-color: #8ddb18;\n  color: #000000;\n}\n\n.stop-button {\n  background-color: #dc3434;\n  border-color: #5e0000;\n  color: #000000;\n}\n\n.stop-button:hover {\n  background-color: #f85e5e;\n  color: #000000;\n}\n\n.page-turns {\n  margin-top: 2rem;\n  display: flex;\n  align-self: center;\n  gap: 1rem;\n}\n\n.page-turn {\n  font-size: 1.5rem;\n  text-shadow: 0 1px 1px black;\n  padding: 0.3rem 1.5rem;\n  background-color: #b98137;\n  border-color: #8e642d;\n  border-bottom: 6px #8e642d solid;\n  border-radius: 10px;\n  color: white;\n}\n\n.page-turn:hover {\n  background-color: #cf903f;\n}\n\n.interact-with-cars {\n  margin: 1rem 0 0 0.5rem;\n  display: flex;\n  gap: 1rem;\n}\n\n.race-buttons {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.start-race,\n.stop-race {\n  font-size: 1.3rem;\n}\n\n.start-race {\n  background-color: #e90909;\n  color: white;\n  border-color: #810909;\n  padding: 0.2rem 1rem;\n}\n\n.start-race:hover {\n  background-color: #eb3f3f;\n}\n\n.stop-race {\n  background-color: #6ccad6;\n  color: white;\n  border-color: #528890;\n}\n\n.stop-race:hover {\n  background-color: #78d7e3;\n}\n\n.generation-button {\n  background-color: #c50c94;\n  border-color: #720655;\n}\n\n.generation-button:hover {\n  background-color: #d720a6;\n}\n\n.navigation-button {\n  font-size: 1.2rem;\n  text-decoration: none;\n  background-color: #b98137;\n  border-color: #8e642d;\n  border-bottom: 6px #8e642d solid;\n}\n\n.navigation-button:hover {\n  background-color: #cf903f;\n}\n\n.disabled {\n  cursor: default;\n  pointer-events: none;\n  background-color: #bbb9b9;\n  color: #525151;\n  border-color: grey;\n  text-shadow: none;\n}\n",""]);const o=a},9460:(t,e,n)=>{n.d(e,{A:()=>h});var s=n(1601),i=n.n(s),r=n(6314),a=n.n(r),o=n(4417),l=n.n(o),c=new URL(n(7723),n.b),d=a()(i()),u=l()(c);d.push([t.id,`.track {\n  position: relative;\n  border-bottom: dashed 0.8rem #ffffff;\n  background-color: #bbb7b7;\n  overflow: hidden;\n  height: 100px;\n  padding: 0.5rem 0.3rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.2rem;\n}\n\n.interaction {\n  display: flex;\n  gap: 1rem;\n}\n\n.manipulation {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.car-name {\n  color: #ffe600;\n  text-shadow: 1px 2px 0 black;\n  text-align: center;\n  padding: 0.2rem 0.5rem;\n  font-size: 1.3rem;\n}\n\n.track .car {\n  z-index: 3;\n  bottom: 20px;\n  left: 40px;\n  position: absolute;\n  width: 20px;\n}\n\n.flag {\n  position: absolute;\n  background-image: url(${u});\n  width: 70px;\n  height: 70px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  right: 110px;\n  bottom: 20px;\n}\n\n@media screen and (max-width: 700px) {\n  .flag {\n    width: 50px;\n    height: 50px;\n    right: 90px;\n  }\n}\n`,""]);const h=d},3605:(t,e,n)=>{n.d(e,{A:()=>o});var s=n(1601),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([t.id,".tracks-page {\n  display: flex;\n  flex-direction: column;\n}\n\n.tracks {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n",""]);const o=a},8435:(t,e,n)=>{n.d(e,{A:()=>o});var s=n(1601),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([t.id,".winners {\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n\ntable,\nth,\ntd {\n  border: 1px solid #000000;\n  border-collapse: collapse;\n  background-color: rgb(199, 195, 195);\n}\n\n.win-table {\n  align-self: center;\n  width: 100%;\n  max-width: 800px;\n}\n\n.win-table td {\n  text-align: center;\n  font-size: 1.1rem;\n  color: white;\n  text-shadow: 1px 1px 0 black;\n}\n\n.win-table th {\n  font-size: 1.4rem;\n  color: #000000;\n  text-shadow: 1.5px 1px 0 #ffffff;\n}\n\n.win-table .car svg {\n  width: 80px;\n}\n\n.winners .page-turns {\n  align-self: center;\n}\n\n.sort-cell {\n  position: relative;\n  user-select: none;\n  cursor: pointer;\n}\n\n.asc::after,\n.asc::before,\n.desc::after,\n.desc::before {\n  content: '';\n  display: block;\n  position: absolute;\n  width: 7px;\n  height: 2px;\n  background-color: #000000;\n  top: 50%;\n  transition: all linear 400ms;\n}\n\n.asc::after {\n  transform: rotate(45deg);\n  right: 8px;\n}\n\n.asc::before {\n  transform: rotate(-45deg);\n  right: 4px;\n}\n\n.desc::after {\n  transform: rotate(-45deg);\n  right: 8px;\n}\n\n.desc::before {\n  transform: rotate(45deg);\n  right: 4px;\n}\n\n@media screen and (max-width: 700px) {\n  .win-table th {\n    height: 80px;\n  }\n\n  .asc::after,\n  .asc::before,\n  .desc::after,\n  .desc::before {\n    top: 60px;\n  }\n\n  .asc::before,\n  .desc::before {\n    right: 30px;\n  }\n\n  .asc::after,\n  .desc::after {\n    right: 34px;\n  }\n}\n",""]);const o=a},6314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",s=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),s&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),s&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,s,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(s)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);s&&a[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),e.push(d))}},e}},4417:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},1601:t=>{t.exports=function(t){return t[1]}},5707:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var s=n(5072),i=n.n(s),r=n(7825),a=n.n(r),o=n(7659),l=n.n(o),c=n(5056),d=n.n(c),u=n(540),h=n.n(u),f=n(1113),p=n.n(f),m=n(5346),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),i()(m.A,g);const v=m.A&&m.A.locals?m.A.locals:void 0},6969:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var s=n(5072),i=n.n(s),r=n(7825),a=n.n(r),o=n(7659),l=n.n(o),c=n(5056),d=n.n(c),u=n(540),h=n.n(u),f=n(1113),p=n.n(f),m=n(2300),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),i()(m.A,g);const v=m.A&&m.A.locals?m.A.locals:void 0},4567:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var s=n(5072),i=n.n(s),r=n(7825),a=n.n(r),o=n(7659),l=n.n(o),c=n(5056),d=n.n(c),u=n(540),h=n.n(u),f=n(1113),p=n.n(f),m=n(9060),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),i()(m.A,g);const v=m.A&&m.A.locals?m.A.locals:void 0},7907:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var s=n(5072),i=n.n(s),r=n(7825),a=n.n(r),o=n(7659),l=n.n(o),c=n(5056),d=n.n(c),u=n(540),h=n.n(u),f=n(1113),p=n.n(f),m=n(9460),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),i()(m.A,g);const v=m.A&&m.A.locals?m.A.locals:void 0},8150:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var s=n(5072),i=n.n(s),r=n(7825),a=n.n(r),o=n(7659),l=n.n(o),c=n(5056),d=n.n(c),u=n(540),h=n.n(u),f=n(1113),p=n.n(f),m=n(3605),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),i()(m.A,g);const v=m.A&&m.A.locals?m.A.locals:void 0},676:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var s=n(5072),i=n.n(s),r=n(7825),a=n.n(r),o=n(7659),l=n.n(o),c=n(5056),d=n.n(c),u=n(540),h=n.n(u),f=n(1113),p=n.n(f),m=n(8435),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),i()(m.A,g);const v=m.A&&m.A.locals?m.A.locals:void 0},5072:t=>{var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var r={},a=[],o=0;o<t.length;o++){var l=t[o],c=s.base?l[0]+s.base:l[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var h=n(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(f);else{var p=i(f,s);s.byIndex=o,e.splice(o,0,{identifier:u,updater:p,references:1})}a.push(u)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=s(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<r.length;a++){var o=n(r[a]);e[o].references--}for(var l=s(t,i),c=0;c<r.length;c++){var d=n(r[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}r=l}}},7659:t=>{var e={};t.exports=function(t,n){var s=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},5056:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},1113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},8675:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(5707);const i=s(n(2760)),r=s(n(22)),a=s(n(560)),o=s(n(7592));class l{constructor(){this.garage=new i.default,this.winners=new a.default,document.body.append((new o.default).getElement(),this.garage.getElement(),this.winners.getElement());const t=this.createRoutes();this.router=new r.default(t)}run(){this.router.navigate("garage")}createRoutes(){return[{path:"garage",callback:()=>{l.setContent(this.garage,this.winners)}},{path:"winners",callback:()=>{l.setContent(this.winners,this.garage)}}]}static setContent(t,e){e.setStyles({display:"none"}),t.setStyles({display:"block"})}}e.default=l},8156:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),(new(s(n(8675)).default)).run()},9988:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023));class r extends i.default{constructor(t,e){super({tag:"a",className:["navigation-button","button"],content:t,href:e})}}e.default=r},7592:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023)),r=s(n(9988));class a extends i.default{constructor(){super({tag:"nav",className:["navigation"]},new r.default("To garage","#garage"),new r.default("To winners","#winners"))}}e.default=a},263:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(6969);const i=s(n(4023)),r=s(n(9816)),a=s(n(8868));class o extends i.default{constructor(){super({className:["create-redo-fields"]},new r.default,new a.default)}}e.default=o},9816:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(5864)),a=i(n(6375)),o=i(n(3817));class l extends o.default{constructor(){super({className:["create-form","form"]}),this.createCar=t=>s(this,void 0,void 0,(function*(){t.preventDefault();const e=this.getFormData();if(e){if(!this.hasName())return void this.showHint();r.default.resetButton(),yield a.default.createCar(`${e.name}`,`${e.color}`)}this.text.getElement().value=""})),this.addListener("submit",this.createCar),this.append(this.hint),this.submit.getElement().value="Create"}showHint(){this.hint.setStyles({opacity:"1"}),setTimeout((()=>this.hint.setStyles({opacity:"0"})),3e3)}}e.default=l},8868:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(8863)),a=i(n(5864)),o=i(n(6375)),l=i(n(3817));class c extends l.default{constructor(){super({className:["edit-form","form"]}),this.id=0,this.name="",this.colorName="",this.enable=(t,e,n)=>{this.id=t,this.name=e,this.colorName=n,this.on(),this.color.getElement().value=n,this.text.getElement().value=e},this.updateCar=t=>s(this,void 0,void 0,(function*(){t.preventDefault(),a.default.resetButton();const e=this.getFormData();e&&(this.hasName()||(e.name=this.name),yield o.default.updateCar(this.id,`${e.name}`,`${e.color}`),r.default.updateTable()),this.off(),this.clearField()})),this.off();const t=this.enable.bind(this);this.addListener("edit-car",(e=>{const n=e,{id:s,name:i,color:r}=n.detail;t(s,i,r)})),this.addListener("submit",this.updateCar),this.addListener("clear-for-removed",(()=>{this.off()})),this.submit.getElement().value="Confirm"}}e.default=c},3817:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023)),r=s(n(9035));class a extends i.default{constructor(t){super(Object.assign({tag:"form"},t)),this.data={},this.color=new r.default("color","car-color"),this.color.getElement().value="#ffffff",this.text=new r.default("text","car-name"),this.submit=new r.default("submit"),this.hint=new i.default({className:["input-hint"],content:"Please enter a name."}),this.appendChildren(this.text,this.color,this.submit)}getFormData(){const t=new FormData(this.element);return this.data.color=`${t.get("car-color")}`,this.data.name=`${t.get("car-name")}`,this.data}hasName(){return""!==this.data.name}off(){this.color.disable(),this.text.disable(),this.submit.disable()}on(){this.color.enable(),this.text.enable(),this.submit.enable()}clearField(){this.text.getElement().value=""}}e.default=a},9035:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023));class r extends i.default{constructor(t,e){super({tag:"input",type:t,name:e}),this.element.autocomplete="off"}disable(){this.element.disabled=!0}enable(){this.element.disabled=!1}}e.default=r},2760:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023)),r=s(n(263)),a=s(n(9197)),o=s(n(1938)),l=s(n(9670));class c extends i.default{constructor(){super({tag:"section",className:["garage"]});const t=new r.default,e=new i.default({className:["interact-with-cars"]},new o.default,new a.default),n=new l.default;this.appendChildren(t,e,n)}}e.default=c},9197:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(4023)),a=i(n(5864)),o=i(n(6742)),l=i(n(6375)),c=n(1207);class d extends r.default{constructor(){super({className:["generation-button","button"],content:"Generate cars"}),this.requests=[],this.generation=()=>s(this,void 0,void 0,(function*(){a.default.resetButton(),this.makeRequests(),yield Promise.all(this.requests),l.default.updateTracksPage()})),this.addListener("click",this.generation)}makeRequests(){const t=(0,c.getColorArray)(),e=(0,c.getNamesArray)();for(let n=0;n<100;n+=1)this.requests.push(o.default.createCar(e[n],t[n]))}}e.default=d},1938:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023)),r=s(n(6070)),a=s(n(5864));class o extends i.default{constructor(){super({className:["race-buttons"]}),this.currentCars=[];const t=new a.default,e=new r.default;this.addListener("update-race-data",(n=>{const s=n;e.updateData(s.detail.cars),t.updateData(s.detail.cars)})),this.appendChildren(e,t)}}e.default=o},5516:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(4023)),a=i(n(8863)),o=i(n(6742));class l extends r.default{constructor({id:t,time:e}){super({className:["winner-banner"]}),this.name="",this.wins=1,this.winerData=null,this.id=t,this.time=function(t){const e=t/1e3;return Number.isInteger(e)?e:+e.toFixed(2)}(e),document.body.append(this.element)}show(){setTimeout((()=>this.setStyles({opacity:"1"})),400),setTimeout((()=>this.setStyles({opacity:"0"})),3e3),setTimeout((()=>this.remove()),4e3)}addContentAndTabulate(){return s(this,void 0,void 0,(function*(){yield this.getCarName(),this.setContent(`${this.name} wins by ${this.time} sec!`),yield this.tabulate(),a.default.updateTable()}))}getCarName(){return s(this,void 0,void 0,(function*(){const t=yield o.default.getCar(this.id);(null==t?void 0:t.name)&&(this.name=t.name)}))}tabulate(){return s(this,void 0,void 0,(function*(){yield this.isWasWining(),this.winerData?(this.wins=this.winerData.wins+1,this.updateTime(this.winerData.time),yield this.updateWiner()):yield this.createWinner()}))}createWinner(){return s(this,void 0,void 0,(function*(){yield o.default.createWinner(this.id,this.wins,this.time)}))}updateWiner(){return s(this,void 0,void 0,(function*(){yield o.default.updateWinner(this.id,this.wins,this.time)}))}updateTime(t){t<this.time&&(this.time=t)}isWasWining(){return s(this,void 0,void 0,(function*(){this.winerData=yield o.default.getWinner(this.id)}))}}e.default=l},6070:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(4023)),a=i(n(5516));class o extends r.default{constructor(){super({className:["start-race","button"],content:"Go!"}),this.cars=[],this.stopButtons=[],this.startButtons=[],this.winnerData=null,this.controller=new AbortController,this.startRace=()=>s(this,void 0,void 0,(function*(){document.querySelectorAll(".garage .page-turn").forEach((t=>{t.classList.add("disabled")}));const t=this.element.nextElementSibling;t&&t instanceof HTMLElement&&t.classList.remove("disabled"),this.stopButtons.forEach((t=>t.classList.remove("disabled"))),this.addClass("disabled"),this.startButtons.forEach((t=>t.classList.add("disabled"))),yield this.startEngines().then((t=>this.driveAll(t)))})),this.driveAll=t=>s(this,void 0,void 0,(function*(){this.createSignal();const{signal:e}=this.controller,n=this.makeIdArray().map(((n,s)=>new Promise(((i,r)=>{fetch(`http://127.0.0.1:3000/engine?id=${n}&status=drive`,{method:"PATCH",signal:e}).then((e=>{if(!e.ok)throw this.cars[s].stopAnimation(),new Error("The End!");return{id:n,time:t[s]}})).then((t=>{i(t)})).catch((t=>{r(t)}))}))));this.cars.forEach(((e,n)=>e.startAnimation(t[n]))),yield Promise.any(n).then((t=>{this.winnerData=t,this.showWinner()})).catch((()=>{}))})),this.startEngines=()=>s(this,void 0,void 0,(function*(){const t=[];this.cars.forEach((e=>t.push(e.getDuration())));const e=yield Promise.all(t),n=[];return e.filter((t=>null!==t)),e.forEach((t=>{(null==t?void 0:t.distance)&&(null==t?void 0:t.velocity)&&n.push(t.distance/t.velocity)})),n})),this.addListener("click",this.startRace)}updateData(t){this.cars=t,this.cars.forEach((t=>{const e=t.getElement().previousElementSibling,n=null==e?void 0:e.firstElementChild,s=null==e?void 0:e.lastChild;this.startButtons.push(n),this.stopButtons.push(s)}))}makeIdArray(){const t=[];return this.cars.forEach((e=>t.push(e.id))),t}createSignal(){this.controller=new AbortController;const t=document.querySelector(".stop-race");t&&t.dispatchEvent(new CustomEvent("update-controller",{detail:{controller:this.controller}}))}showWinner(){if(this.winnerData){const t=new a.default(this.winnerData);t.addContentAndTabulate(),t.show()}}}e.default=o},5864:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(4023));class a extends r.default{constructor(){super({className:["stop-race","button","disabled"],content:"Reset"}),this.cars=[],this.stopButtons=[],this.startButtons=[],this.updateController=t=>{this.controller=t},this.returnAllCars=()=>s(this,void 0,void 0,(function*(){document.querySelectorAll(".garage .page-turn").forEach((t=>{t.classList.remove("disabled")})),this.addClass("disabled"),this.stopButtons.forEach((t=>t.classList.add("disabled"))),this.controller.abort();const t=this.cars.map((t=>t.stop()));yield Promise.all(t);const e=this.element.previousElementSibling;e&&e instanceof HTMLElement&&e.classList.remove("disabled"),this.startButtons.forEach((t=>t.classList.remove("disabled")))})),this.controller=new AbortController,this.addListener("click",this.returnAllCars),this.addListener("update-controller",(t=>{const e=t,{controller:n}=e.detail;this.updateController(n)}))}updateData(t){this.cars=t,this.cars.forEach((t=>{const e=t.getElement().previousElementSibling,n=null==e?void 0:e.firstElementChild,s=null==e?void 0:e.lastChild;this.startButtons.push(n),this.stopButtons.push(s)}))}static resetButton(){const t=document.querySelector(".stop-race");t&&t.dispatchEvent(new CustomEvent("click"))}}e.default=a},7801:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(4567);const r=i(n(4023));class a extends r.default{constructor(t){super({className:["control-buttons"]}),this.start=()=>{this.startButton.addClass("disabled"),this.stopButton.removeClass("disabled"),this.car.drive()},this.stop=()=>s(this,void 0,void 0,(function*(){this.stopButton.addClass("disabled"),yield this.car.stop(),this.startButton.removeClass("disabled")})),this.car=t,this.startButton=new r.default({tag:"span",className:["control","start-button","button"],content:"A"}),this.stopButton=new r.default({tag:"span",className:["control","disabled","stop-button","button"],content:"B"}),this.addHandler(),this.appendChildren(this.startButton,this.stopButton)}addHandler(){this.startButton.addListener("click",this.start),this.stopButton.addListener("click",this.stop)}}e.default=a},6135:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023));class r extends i.default{constructor(t){super({className:["remove","button"],content:"Remove"}),this.removeCar=()=>{this.car.removeCar();const t=document.querySelector(".edit-form");t&&t.dispatchEvent(new CustomEvent("clear-for-removed"))},this.car=t,this.addListener("click",this.removeCar)}}e.default=r},3843:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023));class r extends i.default{constructor(t){super({className:["select-button","button"],content:"Edit"}),this.focusOnForm=()=>{const t=document.querySelector(".edit-form");t&&(t.dispatchEvent(new CustomEvent("edit-car",{bubbles:!0,detail:{id:this.car.id,name:this.car.name,color:this.car.color}})),t.scrollIntoView({behavior:"smooth"}))},this.car=t,this.addListener("click",this.focusOnForm)}}e.default=r},6742:function(t,e){var n=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static getAllCars(){return n(this,void 0,void 0,(function*(){const t=yield fetch("http://127.0.0.1:3000/garage");return yield t.json()}))}static getCar(t){return n(this,void 0,void 0,(function*(){try{const e=yield fetch(`http://127.0.0.1:3000/garage/${t}`);return yield e.json()}catch(t){return null}}))}static createCar(t,e){return n(this,void 0,void 0,(function*(){yield fetch("http://127.0.0.1:3000/garage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,color:e})})}))}static deleteCar(t){return n(this,void 0,void 0,(function*(){yield fetch(`http://127.0.0.1:3000/garage/${t}`,{method:"DELETE"})}))}static updateCar(t,e,s){return n(this,void 0,void 0,(function*(){yield fetch(`http://127.0.0.1:3000/garage/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,color:s})})}))}static startEngine(t){return n(this,void 0,void 0,(function*(){try{const e=yield fetch(`http://127.0.0.1:3000/engine?id=${t}&status=started`,{method:"PATCH"});return yield e.json()}catch(t){return null}}))}static stopEngine(t){return n(this,void 0,void 0,(function*(){yield fetch(`http://127.0.0.1:3000/engine?id=${t}&status=stopped`,{method:"PATCH"})}))}static drive(t){return n(this,void 0,void 0,(function*(){try{return!!(yield fetch(`http://127.0.0.1:3000/engine?id=${t}&status=drive`,{method:"PATCH"})).ok}catch(t){return null}}))}static getWinner(t){return n(this,void 0,void 0,(function*(){try{const e=yield fetch(`http://127.0.0.1:3000/winners/${t}`);return 404===e.status?null:yield e.json()}catch(t){return null}}))}static createWinner(t,e,s){return n(this,void 0,void 0,(function*(){yield fetch("http://127.0.0.1:3000/winners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,wins:e,time:s})})}))}static updateWinner(t,e,s){return n(this,void 0,void 0,(function*(){yield fetch(`http://127.0.0.1:3000/winners/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({wins:e,time:s})})}))}static deleteWinner(t){return n(this,void 0,void 0,(function*(){yield fetch(`http://127.0.0.1:3000/winners/${t}`,{method:"DELETE"})}))}}},9521:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023));class r extends i.default{constructor(t){super({className:["car-name"],content:t})}updateName(t){this.element.textContent=t}}e.default=r},6375:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(2828)),a=i(n(9521)),o=i(n(6742)),l=i(n(8863));class c extends r.default{constructor({name:t,color:e,id:n}){super(e),this.getDuration=()=>s(this,void 0,void 0,(function*(){const t=yield o.default.startEngine(this.id);return t&&(this.duration=t.distance/t.velocity),t})),this.drive=()=>s(this,void 0,void 0,(function*(){yield this.getDuration(),this.startAnimation(this.duration),(yield o.default.drive(this.id))||this.stopAnimation()})),this.stop=()=>s(this,void 0,void 0,(function*(){yield o.default.stopEngine(this.id),this.stopAnimation(),this.element.style.left="40px"})),this.moveCar=t=>{const e=window.innerWidth-this.element.offsetWidth-160;Number.isNaN(this.startTime)&&(this.startTime=t);const n=t-this.startTime,s=Math.min(n/this.duration,1),i=e*s;this.element.style.left=`${i+40}px`,s<1&&(this.requestId=requestAnimationFrame(this.moveCar))},this.startAnimation=t=>{this.duration=t,this.startTime=NaN,this.requestId=requestAnimationFrame(this.moveCar)},this.stopAnimation=()=>{cancelAnimationFrame(this.requestId)},this.name=t,this.carName=new a.default(this.name),this.color=e,this.id=n,this.startTime=NaN,this.duration=NaN,this.requestId=NaN}static updateCar(t,e,n){return s(this,void 0,void 0,(function*(){yield o.default.updateCar(t,e,n),c.updateTracksPage()}))}static createCar(t,e){return s(this,void 0,void 0,(function*(){yield o.default.createCar(t,e),c.updateTracksPage()}))}removeCar(){return s(this,void 0,void 0,(function*(){(yield o.default.getWinner(this.id))&&(yield o.default.deleteWinner(this.id)),yield o.default.deleteCar(this.id),c.updateTracksPage(),l.default.updateTable()}))}static updateTracksPage(){const t=document.querySelector(".tracks-page");t&&t.dispatchEvent(new CustomEvent("change-server-data"))}}e.default=c},9037:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(7907);const i=s(n(4023)),r=s(n(7801)),a=s(n(6135)),o=s(n(3843));class l extends i.default{constructor(t){super({className:["track"]});const e=new i.default({className:["manipulation"]},new a.default(t),new o.default(t)),n=new i.default({className:["interaction"]},e,t.carName),s=new i.default({className:["flag"]});this.appendChildren(n,new r.default(t),t,s)}}e.default=l},9670:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(8150);const r=i(n(4023)),a=i(n(2472)),o=i(n(8815));class l extends r.default{constructor(){super({className:["tracks-page"]}),this.updateTracks=()=>s(this,void 0,void 0,(function*(){this.tracks.getElement().innerHTML="";const t=yield this.page.getDataForPageDraw();if(this.totalCounter.updateCounter(this.page.totalEntities),this.pageCounter.updatePage(this.page.currentPage),0==+this.page.totalEntities){const t=document.querySelector(".start-race");t&&t.classList.add("disabled")}this.tracks.renderCars(t)})),this.prev=()=>{this.page.prev(),this.updateTracks()},this.next=()=>s(this,void 0,void 0,(function*(){yield this.page.next(),this.updateTracks()})),this.tracks=new a.default,this.page=new o.default("garage",7,"Garage"),this.totalCounter=this.page.totalCounter,this.pageCounter=this.page.pageCounter,this.pageTurns=this.page.pageTurns;const t=this.updateTracks.bind(this);this.addListener("change-server-data",t),this.addTurnListeners(),this.updateTracks(),this.appendChildren(this.totalCounter,this.pageCounter,this.tracks,this.pageTurns)}addTurnListeners(){this.pageTurns.prev.addListener("click",this.prev),this.pageTurns.next.addListener("click",this.next)}}e.default=l},2472:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(6375)),r=s(n(9037)),a=s(n(4023));class o extends a.default{constructor(){super({tag:"div",className:["tracks"]}),this.cars=[]}renderCars(t){this.element.innerHTML="",this.cars=[],t.forEach((t=>{const e=new i.default(t);this.cars.push(e);const n=new r.default(e);this.append(n)})),this.updateRaceData()}updateRaceData(){const t=document.querySelector(".race-buttons");t&&t.dispatchEvent(new CustomEvent("update-race-data",{detail:{cars:this.cars}}))}}e.default=o},7840:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023));class r extends i.default{constructor(t,e){super({tag:e}),this.fillCell(t)}fillCell(t){"string"==typeof t?this.setContent(t):"number"==typeof t?this.setContent(`${t}`):this.append(t)}}e.default=r},6681:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(4023)),a=i(n(7840));class o extends r.default{constructor(t){super({tag:"tr"}),this.wins=new a.default("Wins","th"),this.time=new a.default("Best time","th"),this.sort=(t,e,n)=>s(this,void 0,void 0,(function*(){t.containClass("asc")?(t.removeClass("asc"),t.addClass("no-sort"),this.page.updateURL()):t.containClass("desc")?(t.removeClass("desc"),t.addClass("asc"),this.getURLForSort(n,"ASC")):t.containClass("no-sort")&&(t.removeClass("no-sort"),t.addClass("desc"),this.getURLForSort(n,"DESC")),e.removeClass("asc"),e.removeClass("desc"),e.addClass("no-sort"),yield this.redraw()})),this.page=t,this.fillRow(),this.wins.addClass("sort-cell"),this.time.addClass("sort-cell"),this.wins.addClass("no-sort"),this.time.addClass("no-sort"),this.wins.addListener("click",(()=>{this.sort(this.wins,this.time,"wins")})),this.time.addListener("click",(()=>{this.sort(this.time,this.wins,"time")}))}fillRow(){const t=new a.default("Number","th"),e=new a.default("Car","th"),n=new a.default("Name","th");this.appendChildren(t,e,n,this.wins,this.time)}getURLForSort(t,e){return s(this,void 0,void 0,(function*(){this.page.updateURL();const{currentURL:n}=this.page;this.page.currentURL=`${n}&_sort=${t}&_order=${e}`}))}redraw(){return s(this,void 0,void 0,(function*(){const t=yield this.page.getDataForPageDraw(),e=this.element.parentElement;e&&e.dispatchEvent(new CustomEvent("sort-table",{detail:{data:t}}))}))}}e.default=o},6240:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(4023)),a=i(n(2828)),o=i(n(6742)),l=i(n(7840));class c extends r.default{constructor(t,e){super({tag:"tr"}),this.fillRow(t,e)}fillRow(t,e){return s(this,arguments,void 0,(function*({id:t,wins:e,time:n},s){const i=yield o.default.getCar(t);if(i){const t=new l.default(s+1,"td"),r=new l.default(new a.default(i.color),"td");r.addClass("car-cell");const o=new l.default(i.name,"td"),c=new l.default(e,"td"),d=new l.default(`${n} sec`,"td");this.appendChildren(t,r,o,c,d)}}))}}e.default=c},8863:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023)),r=s(n(6681)),a=s(n(6240));class o extends i.default{constructor(t){super({tag:"table",className:["win-table"]}),this.tbody=new i.default({tag:"tbody"}),this.redrawTable=t=>{this.tbody.getElement().innerHTML="",t.forEach(((t,e)=>{const n=10*(this.page.currentPage-1)+e;this.tbody.append(new a.default(t,n))}))},this.page=t,this.headRow=new r.default(t),this.appendChildren(this.headRow,this.tbody),this.addListener("sort-table",(t=>{const e=t,{data:n}=e.detail;this.redrawTable(n)}))}static updateTable(){const t=document.querySelector(".winners");t&&t.dispatchEvent(new CustomEvent("update-table"))}}e.default=o},560:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(676);const r=i(n(4023)),a=i(n(8863)),o=i(n(8815));class l extends r.default{constructor(){super({tag:"section",className:["winners"]}),this.updatePage=()=>s(this,void 0,void 0,(function*(){this.table.tbody.getElement().innerHTML="";const t=this.table.headRow;t.wins.containClass("asc")?t.getURLForSort("wins","ASC"):t.wins.containClass("desc")?t.getURLForSort("wins","DESC"):t.time.containClass("asc")?t.getURLForSort("time","ASC"):t.time.containClass("desc")&&t.getURLForSort("time","DESC");const e=yield this.page.getDataForPageDraw();this.totalCounter.updateCounter(this.page.totalEntities),this.pageCounter.updatePage(this.page.currentPage),this.table.redrawTable(e)})),this.prev=()=>{this.page.prev(),this.updatePage()},this.next=()=>s(this,void 0,void 0,(function*(){yield this.page.next(),this.updatePage()})),this.page=new o.default("winners",10,"Winners"),this.table=new a.default(this.page),this.totalCounter=this.page.totalCounter,this.pageCounter=this.page.pageCounter,this.pageTurns=this.page.pageTurns,this.addTurnListeners(),this.updatePage(),this.appendChildren(this.totalCounter,this.pageCounter,this.table,this.pageTurns),this.addListener("update-table",this.updatePage)}addTurnListeners(){this.pageTurns.prev.addListener("click",this.prev),this.pageTurns.next.addListener("click",this.next)}}e.default=l},4023:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(7701));class r{constructor(t,...e){let{tag:n}=t;n||(n="div");const s=document.createElement(n);t.styles&&Object.assign(s.style,t.styles),t.content&&(s.textContent=t.content),Object.assign(s,t),this.element=s,t.className&&t.className.forEach((t=>this.element.classList.add(t))),e&&this.appendChildren(...e)}setContent(t){this.element.textContent=t}addClass(t){this.element.classList.add(t)}removeClass(t){this.element.classList.remove(t)}classList(){return this.element.classList}containClass(t){return!!this.element.classList.contains(t)}getElement(){return this.element}append(t){if(t instanceof r){const e=t.getElement();this.element.append(e)}else this.element.append(t)}appendChildren(...t){t.filter(i.default).forEach((t=>{this.append(t)}))}getChildren(){const{children:t}=this.element,e=[];for(let n=0;n<t.length;n+=1)t[n]instanceof HTMLElement&&e.push(t[n]);return e}remove(){this.element.remove()}addListener(t,e){this.element.addEventListener(t,e)}removeListener(t,e){this.element.removeEventListener(t,e)}setAttribute(t,e){this.element.setAttribute(t,e)}setStyles(t){Object.assign(this.element.style,t)}}e.default=r},2828:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023));class r extends i.default{constructor(t){super({className:["car"]}),this.element.innerHTML='\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="120" height="45" viewBox="0 0 230 80" xml:space="preserve">\n    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(0 -70) scale(2.5 2.5)" >\n      <path d="M 85.347 42.526 l -23.367 -4.73 l -8.231 -4.776 c -3.501 -2.031 -7.491 -3.105 -11.538 -3.105 h -4.915 c -0.002 0 -0.004 0 -0.006 0 h -5.612 c -4.288 0 -8.558 1.058 -12.35 3.06 l -6.167 3.255 c -1.226 0.647 -2.607 0.99 -3.993 0.99 H 6.703 c -2.427 0 -4.529 1.729 -4.998 4.11 l -1.642 8.345 c -0.342 1.738 0.735 3.44 2.451 3.875 l 8.903 2.259 c -0.423 -1.054 -0.662 -2.202 -0.662 -3.405 c 0 -5.064 4.12 -9.185 9.184 -9.185 s 9.184 4.12 9.184 9.185 c 0 1.473 -0.357 2.861 -0.976 4.096 h 37.26 c -0.619 -1.235 -0.976 -2.623 -0.976 -4.096 c 0 -5.064 4.12 -9.185 9.185 -9.185 c 5.063 0 9.184 4.12 9.184 9.185 c 0 1.359 -0.305 2.646 -0.837 3.808 l 4.523 -0.491 C 88.488 55.502 90 53.817 90 51.801 v -3.584 C 90 45.465 88.043 43.072 85.347 42.526 z M 25.017 39.643 c -2.192 0 -4.313 -0.647 -6.132 -1.872 l -0.975 -0.656 l 2.819 -1.488 c 3.361 -1.775 7.148 -2.713 10.949 -2.713 h 4.432 l 1.485 6.729 H 25.017 z M 53.366 39.643 h -12.7 l -1.485 -6.729 h 3.029 c 3.519 0 6.988 0.934 10.032 2.7 l 5.752 3.337 C 56.496 39.405 54.948 39.643 53.366 39.643 z" style="stroke: gray; stroke-width: 0.2; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />\n      <path d="M 73.615 60.086 c -4.237 0 -7.685 -3.447 -7.685 -7.684 c 0 -4.237 3.447 -7.685 7.685 -7.685 c 4.236 0 7.684 3.447 7.684 7.685 C 81.299 56.639 77.852 60.086 73.615 60.086 z M 73.615 47.718 c -2.583 0 -4.685 2.102 -4.685 4.685 s 2.102 4.684 4.685 4.684 s 4.684 -2.101 4.684 -4.684 S 76.198 47.718 73.615 47.718 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />\n      <path d="M 19.939 60.086 c -4.237 0 -7.684 -3.447 -7.684 -7.684 c 0 -4.237 3.447 -7.685 7.684 -7.685 s 7.684 3.447 7.684 7.685 C 27.623 56.639 24.176 60.086 19.939 60.086 z M 19.939 47.718 c -2.583 0 -4.684 2.102 -4.684 4.685 s 2.101 4.684 4.684 4.684 c 2.583 0 4.684 -2.101 4.684 -4.684 S 22.521 47.718 19.939 47.718 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />\n      <path d="M 73.609 54.899 c -0.649 0 -1.3 -0.26 -1.76 -0.729 c -0.12 -0.11 -0.22 -0.24 -0.31 -0.38 c -0.09 -0.141 -0.17 -0.28 -0.23 -0.431 c -0.069 -0.149 -0.109 -0.31 -0.149 -0.47 c -0.03 -0.16 -0.04 -0.33 -0.04 -0.49 c 0 -0.659 0.26 -1.3 0.729 -1.76 c 0.58 -0.59 1.44 -0.859 2.25 -0.689 c 0.16 0.029 0.32 0.08 0.47 0.14 c 0.15 0.07 0.301 0.14 0.431 0.229 c 0.14 0.091 0.27 0.2 0.38 0.32 c 0.47 0.46 0.729 1.101 0.729 1.76 c 0 0.16 -0.01 0.33 -0.05 0.49 c -0.029 0.16 -0.08 0.32 -0.14 0.47 c -0.061 0.15 -0.14 0.29 -0.23 0.431 c -0.09 0.14 -0.189 0.27 -0.31 0.38 C 74.92 54.64 74.27 54.899 73.609 54.899 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />\n      <path d="M 19.94 54.899 c -0.66 0 -1.31 -0.27 -1.77 -0.729 s -0.73 -1.11 -0.73 -1.771 c 0 -0.659 0.27 -1.3 0.73 -1.77 c 0.93 -0.93 2.61 -0.93 3.54 0 c 0.46 0.47 0.73 1.11 0.73 1.77 c 0 0.66 -0.27 1.301 -0.73 1.771 C 21.24 54.63 20.6 54.899 19.94 54.899 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />\n    </g>\n    </svg>',this.setColor(t)}setColor(t){var e,n;const s=null===(n=null===(e=this.element.firstElementChild)||void 0===e?void 0:e.firstElementChild)||void 0===n?void 0:n.firstElementChild;s&&(s.style.fill=t)}}e.default=r},7949:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023));class r extends i.default{constructor(){super({className:["page-counter"]})}updatePage(t){this.setContent(`Page ${t}`)}}e.default=r},1837:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023));class r extends i.default{constructor(){super({className:["page-turns"]}),this.prev=new i.default({className:["page-turn","button"],content:"Prev"}),this.next=new i.default({className:["page-turn","button"],content:"Next"}),this.appendChildren(this.prev,this.next)}}e.default=r},8815:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(t){r(t)}}function o(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(7949)),a=i(n(1837)),o=i(n(3104));e.default=class{constructor(t,e,n){this.currentPage=1,this.totalEntities="",this.currentURL="",this.page=t,this.limit=e,this.pageTurns=new a.default,this.totalCounter=new o.default(n),this.pageCounter=new r.default,this.updateURL()}updateURL(){this.currentURL=`http://127.0.0.1:3000/${this.page}?_limit=${this.limit}&_page=${this.currentPage}`}getDataForPageDraw(){return s(this,void 0,void 0,(function*(){const t=yield fetch(this.currentURL),e=t.headers.get("X-Total-Count");return e&&(this.totalEntities=e),yield t.json()}))}prev(){this.currentPage-=1,this.currentPage<=0&&(this.currentPage=1),this.updateURL()}next(){return s(this,void 0,void 0,(function*(){this.currentPage+=1,this.updateURL(),0===(yield this.getDataForPageDraw()).length&&(this.currentPage-=1),this.updateURL()}))}}},3104:function(t,e,n){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(4023));class r extends i.default{constructor(t){super({className:["total-counter"]}),this.countName=t}updateCounter(t){this.setContent(`${this.countName}: ${t}`)}}e.default=r},7701:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null!=t}},1207:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getNamesArray=e.getColorArray=void 0;const n=["Toyota","Honda","Ford","Chevrolet","Volkswagen","Nissan","BMW","Mercedes-Benz","Audi","Hyundai","Kia","Lexus","Subaru","Mazda","Jeep","Volvo","Tesla","Ferrari","Porsche","Land Rover"],s=["Camry","Accord","F-150","Silverado","Golf","Altima","3 Series","E-Class","A4","Elantra","Optima","IS","Outback","CX-5","Wrangler","XC90","Model S","488 GTB","911","Range Rover"];function i(){const t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),s=t=>1===t.toString(16).length?`0${t.toString(16)}`:t.toString(16);return`#${s(t)}${s(e)}${s(n)}`}e.getColorArray=function(){const t=[];for(let e=0;e<100;e+=1){const e=i();t.push(e)}return t},e.getNamesArray=function(){const t=[];for(let e=0;e<100;e+=1){const e=Math.floor(n.length*Math.random()),i=Math.floor(s.length*Math.random()),r=`${n[e]} ${s[i]}`;t.push(r)}return t}},22:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.navigate=t=>{"string"==typeof t&&(window.location.href=`${window.location.href.replace(/#(.*)$/,"")}#${t}`);const e=window.location.hash.slice(1),n=this.routes.find((t=>t.path===e));if(!n)throw new Error("page not found!");n.callback()},this.routes=t,window.addEventListener("hashchange",this.navigate)}}},7723:(t,e,n)=>{t.exports=n.p+"3c73884c36eaa2119747.png"}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");if(s.length)for(var i=s.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=s[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0,n(8156)})();